<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>那不勒斯舞曲 - 音乐教学平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Google Sans', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif; }
        body { background: #fff; color: #202124; }
        .navbar { background: #fff; border-bottom: 1px solid #dadce0; }
        .track-card { background: #fff; border: 1px solid #dadce0; border-radius: 8px; transition: all 0.2s; }
        .track-card:hover { box-shadow: 0 1px 6px rgba(32,33,36,0.28); }
        .icon-circle { width: 48px; height: 48px; background: #e8f0fe; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #1a73e8; font-size: 20px; flex-shrink: 0; }
        .btn-primary { background: #1a73e8; color: #fff; border: none; border-radius: 4px; padding: 8px 16px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .btn-primary:hover { background: #1557b0; box-shadow: 0 1px 3px rgba(0,0,0,0.24); }
        .btn-secondary { background: #fff; color: #1a73e8; border: 1px solid #dadce0; border-radius: 4px; padding: 8px 16px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .btn-secondary:hover { background: #f8f9fa; border-color: #1a73e8; }
        audio { width: 100%; height: 40px; border-radius: 4px; }
        .volume-slider { width: 80px; height: 4px; -webkit-appearance: none; background: #dadce0; border-radius: 2px; outline: none; }
        .volume-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 12px; height: 12px; background: #1a73e8; border-radius: 50%; cursor: pointer; }
        dialog { border: none; border-radius: 8px; box-shadow: 0 4px 24px rgba(0,0,0,0.15); padding: 0; max-width: 600px; width: 90%; }
        dialog::backdrop { background: rgba(0,0,0,0.4); }
        .dialog-header { padding: 16px 24px; border-bottom: 1px solid #dadce0; }
        .dialog-body { padding: 24px; }
        .dialog-footer { padding: 16px 24px; border-top: 1px solid #dadce0; display: flex; justify-content: flex-end; gap: 8px; }
        .status-tag { display: inline-flex; align-items: center; gap: 4px; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 500; }
        .status-tag.ready { background: #e6f4ea; color: #1e8e3e; }
    </style>
</head>
<body>
    <nav class="navbar sticky top-0 z-50 px-6 py-4">
        <div class="max-w-5xl mx-auto flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-2 text-sm" style="color: #5f6368;">
                <i class="fa-solid fa-arrow-left"></i>
                <span>返回首页</span>
            </a>
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-masks-theater text-xl" style="color: #1a73e8;"></i>
                <span class="text-lg font-medium" style="color: #202124;">那不勒斯舞曲</span>
            </div>
            <div class="w-20"></div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto px-6 py-8">
        <div class="mb-8">
            <div class="flex items-center gap-2 text-sm mb-4" style="color: #5f6368;">
                <a href="index.html" class="hover:underline">首页</a>
                <i class="fa-solid fa-chevron-right text-xs"></i>
                <span style="color: #202124;">那不勒斯舞曲</span>
            </div>
            <h1 class="text-3xl font-medium mb-2" style="color: #202124;">那不勒斯舞曲</h1>
            <p class="text-base" style="color: #5f6368;">柴可夫斯基 · 芭蕾舞曲</p>
        </div>

        <div class="track-card p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-medium" style="color: #202124;">播放控制</h2>
                <span class="status-tag ready"><i class="fa-solid fa-circle text-xs"></i>就绪</span>
            </div>
            <div class="flex items-center gap-4">
                <button class="btn-primary" onclick="playAll()"><i class="fa-solid fa-play mr-2"></i>全部播放</button>
                <button class="btn-secondary" onclick="pauseAll()"><i class="fa-solid fa-pause mr-2"></i>暂停</button>
                <button class="btn-secondary" onclick="restartAll()"><i class="fa-solid fa-rotate-right mr-2"></i>重新开始</button>
            </div>
        </div>

        <div class="track-card p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="icon-circle"><i class="fa-solid fa-music"></i></div>
                <div class="flex-1">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <h3 class="font-medium text-base mb-1" style="color: #202124;">总音频</h3>
                            <p class="text-sm" style="color: #5f6368;">完整混音版本</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <button class="btn-secondary text-sm" onclick="openScore('total-score')"><i class="fa-solid fa-file-lines mr-1"></i>乐谱</button>
                            <button class="btn-secondary text-sm" onclick="openAnalysis('total-analysis', 'total-audio')"><i class="fa-solid fa-wand-magic-sparkles mr-1"></i>AI分析</button>
                        </div>
                    </div>
                    <audio id="total-audio" controls><source src="audio/naples-dance.mp3" type="audio/mpeg"></audio>
                </div>
            </div>
        </div>

        <h2 class="text-lg font-medium mb-4 mt-8" style="color: #202124;">分轨音频</h2>

        <div class="track-card p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="icon-circle"><i class="fa-solid fa-music"></i></div>
                <div class="flex-1">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <h3 class="font-medium text-base mb-1" style="color: #202124;">小提琴</h3>
                            <p class="text-sm" style="color: #5f6368;">弦乐声部</p>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex items-center gap-2">
                                <i class="fa-solid fa-volume-low text-sm" style="color: #5f6368;"></i>
                                <input type="range" class="volume-slider" min="0" max="1" step="0.1" value="1" oninput="setVolume('violin-audio', this.value)">
                            </div>
                            <button class="btn-secondary text-sm" onclick="openScore('violin-score')"><i class="fa-solid fa-file-lines mr-1"></i>乐谱</button>
                        </div>
                    </div>
                    <audio id="violin-audio" controls><source src="" type="audio/mpeg"></audio>
                </div>
            </div>
        </div>

        <div class="track-card p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="icon-circle"><i class="fa-solid fa-keyboard"></i></div>
                <div class="flex-1">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <h3 class="font-medium text-base mb-1" style="color: #202124;">钢琴</h3>
                            <p class="text-sm" style="color: #5f6368;">键盘声部</p>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex items-center gap-2">
                                <i class="fa-solid fa-volume-low text-sm" style="color: #5f6368;"></i>
                                <input type="range" class="volume-slider" min="0" max="1" step="0.1" value="1" oninput="setVolume('piano-audio', this.value)">
                            </div>
                            <button class="btn-secondary text-sm" onclick="openScore('piano-score')"><i class="fa-solid fa-file-lines mr-1"></i>乐谱</button>
                        </div>
                    </div>
                    <audio id="piano-audio" controls><source src="" type="audio/mpeg"></audio>
                </div>
            </div>
        </div>

        <div class="track-card p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="icon-circle"><i class="fa-solid fa-wind"></i></div>
                <div class="flex-1">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <h3 class="font-medium text-base mb-1" style="color: #202124;">单簧管</h3>
                            <p class="text-sm" style="color: #5f6368;">木管声部</p>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex items-center gap-2">
                                <i class="fa-solid fa-volume-low text-sm" style="color: #5f6368;"></i>
                                <input type="range" class="volume-slider" min="0" max="1" step="0.1" value="1" oninput="setVolume('clarinet-audio', this.value)">
                            </div>
                            <button class="btn-secondary text-sm" onclick="openScore('clarinet-score')"><i class="fa-solid fa-file-lines mr-1"></i>乐谱</button>
                        </div>
                    </div>
                    <audio id="clarinet-audio" controls><source src="" type="audio/mpeg"></audio>
                </div>
            </div>
        </div>
    </main>

    <footer class="border-t mt-12 py-6" style="border-color: #dadce0;">
        <div class="max-w-5xl mx-auto px-6 text-center">
            <p class="text-sm" style="color: #5f6368;">音乐教学平台 · 让音乐学习更简单</p>
        </div>
    </footer>

    <dialog id="total-analysis">
        <div class="dialog-header"><h3 class="font-medium text-lg" style="color: #202124;">AI 音乐分析</h3></div>
        <div class="dialog-body"><p id="total-analysis-result" style="color: #5f6368;">正在分析中...</p></div>
        <div class="dialog-footer"><button class="btn-secondary" onclick="closeDialog('total-analysis')">关闭</button></div>
    </dialog>

    <dialog id="total-score">
        <div class="dialog-header"><h3 class="font-medium text-lg" style="color: #202124;">总谱</h3></div>
        <div class="dialog-body"><p style="color: #5f6368;">乐谱内容加载中...</p></div>
        <div class="dialog-footer"><button class="btn-secondary" onclick="closeDialog('total-score')">关闭</button></div>
    </dialog>

    <dialog id="violin-score">
        <div class="dialog-header"><h3 class="font-medium text-lg" style="color: #202124;">小提琴分谱</h3></div>
        <div class="dialog-body"><p style="color: #5f6368;">乐谱内容加载中...</p></div>
        <div class="dialog-footer"><button class="btn-secondary" onclick="closeDialog('violin-score')">关闭</button></div>
    </dialog>

    <dialog id="piano-score">
        <div class="dialog-header"><h3 class="font-medium text-lg" style="color: #202124;">钢琴分谱</h3></div>
        <div class="dialog-body"><p style="color: #5f6368;">乐谱内容加载中...</p></div>
        <div class="dialog-footer"><button class="btn-secondary" onclick="closeDialog('piano-score')">关闭</button></div>
    </dialog>

    <dialog id="clarinet-score">
        <div class="dialog-header"><h3 class="font-medium text-lg" style="color: #202124;">单簧管分谱</h3></div>
        <div class="dialog-body"><p style="color: #5f6368;">乐谱内容加载中...</p></div>
        <div class="dialog-footer"><button class="btn-secondary" onclick="closeDialog('clarinet-score')">关闭</button></div>
    </dialog>

    <script>
        var audioIds = ['total-audio', 'violin-audio', 'piano-audio', 'clarinet-audio'];
        function playAll() { audioIds.forEach(function(id) { var a = document.getElementById(id); if (a && a.src) a.play(); }); }
        function pauseAll() { audioIds.forEach(function(id) { var a = document.getElementById(id); if (a) a.pause(); }); }
        function restartAll() { audioIds.forEach(function(id) { var a = document.getElementById(id); if (a) { a.currentTime = 0; a.pause(); } }); }
        function setVolume(audioId, value) { var a = document.getElementById(audioId); if (a) a.volume = value; }
        function openScore(scoreId) { var d = document.getElementById(scoreId); if (d) d.showModal(); }
        function closeDialog(dialogId) { var d = document.getElementById(dialogId); if (d) d.close(); }
        function openAnalysis(modalId, audioId) {
            var d = document.getElementById(modalId);
            var r = document.getElementById(modalId + '-result');
            if (r) r.textContent = '正在分析中...';
            if (d) d.showModal();
            setTimeout(function() { if (r) r.innerHTML = '<strong>曲目信息</strong><br>流派：古典音乐<br>情绪：活泼、欢快<br>调式：大调<br>节拍：2/4拍'; }, 1500);
        }
    </script>
</body>
</html>
